<!DOCTYPE html><html lang="zh-Hans"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Upgrading from 3.x · React Navigation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In React Navigation 4, we&#x27;ve extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects."/><meta name="docsearch:version" content="4.x"/><meta name="docsearch:language" content="zh-Hans"/><meta property="og:title" content="Upgrading from 3.x · React Navigation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reactnavigation.org/index.html"/><meta property="og:description" content="In React Navigation 4, we&#x27;ve extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reactnavigation.org/blog/atom.xml" title="React Navigation Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reactnavigation.org/blog/feed.xml" title="React Navigation Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-10128745-16', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/snack.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-Hans"><img class="logo" src="/img/spiro_white.svg" alt="React Navigation"/><h2 class="headerTitleWithLogo">React Navigation</h2></a><a href="/zh-Hans/versions.html"><h3>4.x</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/zh-Hans/4.x/getting-started.html" target="_self">文档</a></li><li class=""><a href="/zh-Hans/help.html" target="_self">帮助</a></li><li class=""><a href="/blog/" target="_self">博客</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/4.x/upgrading-from-3.x.html">English</a></li><li><a href="/docs/pt-BR/4.x/upgrading-from-3.x.html">Português (Brasil)</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>指南</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">基础<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/getting-started.html">Getting started</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/hello-react-navigation.html">Hello React Navigation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigating.html">Moving between screens</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-lifecycle.html">Navigation lifecycle</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/params.html">Passing parameters to routes</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/headers.html">Configuring the header bar</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/header-buttons.html">Header buttons</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/app-containers.html">App containers</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/modal.html">Opening a full-screen modal</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/next-steps.html">Next steps</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/glossary-of-terms.html">Glossary of terms</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/common-mistakes.html">Common mistakes</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/troubleshooting.html">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/limitations.html">Limitations</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">指南<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/tab-based-navigation.html">Tab navigation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/drawer-based-navigation.html">Drawer navigation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/auth-flow.html">Authentication flows</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/handling-iphonex.html">Supporting safe areas</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/status-bar.html">Different status bar configuration based on route</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-options-resolution.html">Navigation options resolution</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/custom-android-back-button-handling.html">Custom Android back button behavior</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/connecting-navigation-prop.html">Access the navigation prop from any component</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigating-without-navigation-prop.html">Navigating without the navigation prop</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-key.html">Using the navigation key</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/deep-linking.html">Deep linking</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/screen-tracking.html">Screen tracking for analytics</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/themes.html">Themes</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/state-persistence.html">State persistence</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/typescript.html">Type checking with TypeScript</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/redux-integration.html">Redux integration</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/MST-integration.html">MobX State Tree integration</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/localization.html">Localization</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/web-support.html">Web support</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/function-after-focusing-screen.html">Call a function when focused screen changes</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/react-native-screens.html">Optimize memory usage and performance</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-Hans/4.x/upgrading-from-3.x.html">Upgrading from 3.x</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">阅读 API 参考<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-prop.html">Navigation prop</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-context.html">NavigationContext</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-events.html">NavigationEvents</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Navigators</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/stack-navigator.html">createStackNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/stack-navigator-1.0.html">createStackNavigator (1.x)</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/switch-navigator.html">createSwitchNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/animated-switch-navigator.html">createAnimatedSwitchNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/drawer-navigator.html">createDrawerNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/bottom-tab-navigator.html">createBottomTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/material-bottom-tab-navigator.html">createMaterialBottomTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/material-top-tab-navigator.html">createMaterialTopTabNavigator</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Actions</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-actions.html">NavigationActions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/stack-actions.html">StackActions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/switch-actions.html">SwitchActions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/drawer-actions.html">DrawerActions</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Helpers</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/with-navigation.html">withNavigation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/with-navigation-focus.html">withNavigationFocus</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/scrollables.html">Scrollables</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">构建自己的导航<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/custom-navigator-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/routers.html">Routers</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/custom-navigators.html">Custom navigators</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/custom-routers.html">Custom routers</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/navigation-views.html">Navigation views</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">附加资源<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/supported-react-native-versions.html">Supported React Native versions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/community-libraries-and-navigators.html">Community Navigators and Libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/more-resources.html">More Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">其他<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/pitch.html">Pitch &amp; anti-pitch</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/alternatives.html">Alternative libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/4.x/contributing.html">Contributing</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/react-navigation/react-navigation.github.io/tree/source/website/versioned_docs/version-5.x/upgrading-from-3.x.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Upgrading from 3.x</h1></header><article><div><span><p>In React Navigation 4, we've extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects.</p>
<blockquote>
<p>Note: Before making these changes, we recommend you to commit all local changes to git so you can revert back to a good state if something goes wrong with the upgrade.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="install-the-new-packages"></a><a href="#install-the-new-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install the new packages</h2>
<p>First, we need to install the <code>react-navigation</code> package along with the various navigators. If you don't use some of these navigators, you can omit them.</p>
<p>To install them, run:</p>
<pre><code class="hljs css language-sh">npm install react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0
</code></pre>
<p>This will install the versions compatible with your code if you were using <code>react-navigation@3.x</code>, so you wouldn't need any more changes beyond changing the imports.</p>
<blockquote>
<p>Note: If you have <code>@react-navigation/core</code> or <code>@react-navigation/native</code> in your <code>package.json</code>, please remove them and change the imports to import from <code>react-navigation</code> package instead.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="changing-your-code"></a><a href="#changing-your-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changing your code</h2>
<p>Then change any imports for stack, tabs or drawer to import from the above packages instead of <code>react-navigation</code>.</p>
<pre><code class="hljs css language-diff"><span class="hljs-deletion">- import { createAppContainer, createStackNavigator } from 'react-navigation';</span>
<span class="hljs-addition">+ import { createAppContainer } from 'react-navigation';</span>
<span class="hljs-addition">+ import { createStackNavigator } from 'react-navigation-stack';</span>
</code></pre>
<p>The following imports need to be changed to import from <code>react-navigation-stack</code>:</p>
<ul>
<li><code>createStackNavigator</code></li>
<li><code>StackGestureContext</code></li>
<li><code>转场动画</code></li>
<li><code>StackView</code></li>
<li><code>StackViewCard</code></li>
<li><code>StackViewTransitionConfigs</code></li>
<li><code>Header（标题栏）</code></li>
<li><code>HeaderTitle</code></li>
<li><code>HeaderBackButton</code></li>
<li><code>HeaderStyleInterpolator</code></li>
</ul>
<p>The following imports need to be changed to import from <code>react-navigation-tabs</code>:</p>
<ul>
<li><code>createBottomTabNavigator</code></li>
<li><code>createMaterialTopTabNavigator</code></li>
<li><code>BottomTabBar</code></li>
<li><code>MaterialTopTabBar</code></li>
</ul>
<p>The following imports need to be changed to import from <code>react-navigation-drawer</code>:</p>
<ul>
<li><code>createDrawerNavigator</code></li>
<li><code>DrawerGestureContext</code></li>
<li><code>DrawerRouter</code></li>
<li><code>DrawerActions</code></li>
<li><code>DrawerView</code></li>
<li><code>DrawerNavigatorItems</code></li>
<li><code>DrawerSidebar</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="upgrading-navigators-optional"></a><a href="#upgrading-navigators-optional" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading navigators (optional)</h2>
<p>You don't need to upgrade the navigators to their latest version when upgrading to <code>react-navigation@4.x</code>. You can upgrade them separately later as per your convenience.</p>
<blockquote>
<p>Note: We recommend to do each of these changes in a separate commit so you can revert back to a good state if something goes wrong with the upgrade.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="installing-dependencies"></a><a href="#installing-dependencies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing dependencies</h3>
<p>The latest drawer and tabs depend on <a href="https://github.com/kmagiera/react-native-gesture-handler"><code>react-native-gesture-handler</code></a> and <a href="https://github.com/kmagiera/react-native-reanimated"><code>react-native-reanimated</code></a>. 如果你已经安装了这些库,并且是最新版本,那么到这儿就完成了 Otherwise, read on for installation instructions for these dependencies.</p>
<h4><a class="anchor" aria-hidden="true" id="给-expo-管理的项目安装依赖"></a><a href="#给-expo-管理的项目安装依赖" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>给 Expo 管理的项目安装依赖</h4>
<p>In your project directory, run the following:</p>
<pre><code class="hljs css language-sh">expo install react-native-gesture-handler react-native-reanimated
</code></pre>
<p>This will install versions of these libraries that are compatible.</p>
<h4><a class="anchor" aria-hidden="true" id="给原生的-react-native-项目安装依赖"></a><a href="#给原生的-react-native-项目安装依赖" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>给原生的 React Native 项目安装依赖</h4>
<p>In your project directory, run <code>npm install react-native-reanimated react-native-gesture-handler react-native-screens</code>.</p>
<p>接下来，我们需要链接这些库。 The steps depends on your React Native version:</p>
<ul>
<li><p><strong>React Native 0.60 and higher</strong></p>
<p>On newer versions of React Native, <a href="https://github.com/react-native-community/cli/blob/master/docs/autolinking.md">linking is automatic</a>.</p>
<p>为了在 iOS 上完成自动链接, 请确保你已经安装了<a href="https://cocoapods.org/">Cocoapods</a> Then run:</p>
<pre><code class="hljs css language-sh"><span class="hljs-built_in">cd</span> ios
pod install
<span class="hljs-built_in">cd</span> ..
</code></pre></li>
<li><p><strong>React Native 0.59 and lower</strong></p>
<p>If you're on an older React Native version, you need to manually link the dependencies. To do that, run:</p>
<pre><code class="hljs css language-sh">react-native link react-native-reanimated
react-native link react-native-gesture-handler
</code></pre></li>
</ul>
<p>To finalize installation of <code>react-native-gesture-handler</code> for Android, make the following modifications to <code>MainActivity.java</code>:</p>
<pre><code class="hljs css language-diff">package com.reactnavigation.example;

import com.facebook.react.ReactActivity;
<span class="hljs-addition">+ import com.facebook.react.ReactActivityDelegate;</span>
<span class="hljs-addition">+ import com.facebook.react.ReactRootView;</span>
<span class="hljs-addition">+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;</span>

public class MainActivity extends ReactActivity {

  @Override
  protected String getMainComponentName() {
    return "Example";
  }

<span class="hljs-addition">+  @Override</span>
<span class="hljs-addition">+  protected ReactActivityDelegate createReactActivityDelegate() {</span>
<span class="hljs-addition">+    return new ReactActivityDelegate(this, getMainComponentName()) {</span>
<span class="hljs-addition">+      @Override</span>
<span class="hljs-addition">+      protected ReactRootView createRootView() {</span>
<span class="hljs-addition">+       return new RNGestureHandlerEnabledRootView(MainActivity.this);</span>
<span class="hljs-addition">+      }</span>
<span class="hljs-addition">+    };</span>
<span class="hljs-addition">+  }</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="upgrading-packages"></a><a href="#upgrading-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading packages</h3>
<h4><a class="anchor" aria-hidden="true" id="react-navigation-tabs"></a><a href="#react-navigation-tabs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>react-navigation-tabs</code></h4>
<p>To upgrade <code>react-navigation-tabs</code>, run:</p>
<pre><code class="hljs css language-sh">npm install react-navigation-tabs
</code></pre>
<p>This version upgrades <a href="https://github.com/react-native-community/react-native-tab-view"><code>react-native-tab-view</code></a> to 2.x. As a result, the animations in <code>createMaterialTopTabNavigator</code> now use the <a href="https://github.com/software-mansion/react-native-reanimated"><code>react-native-reanimated</code></a> library.</p>
<h5><a class="anchor" aria-hidden="true" id="breaking-changes"></a><a href="#breaking-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking changes</h5>
<ul>
<li>If you have a custom tab bar in <code>createMaterialTopTabNavigator</code> which uses the <code>position</code> prop, you'll need to update it to use <code>Animated</code> from <code>react-native-reanimated</code> instead of <code>react-native</code>.</li>
<li>The <code>activeTintColor</code> and <code>inactiveTintColor</code> options for the tab bar of <code>createMaterialTopTabNavigator</code> now controls the opacity of the label and icons as well.</li>
<li>The <code>animationsEnabled</code> and <code>optimizationsEnabled</code> options have been removed from <code>createMaterialTopTabNavigator</code>.</li>
<li>Support for React &lt; 16.3 has been dropped, which means the minimum supported React Native version is now 0.56.</li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="new-features"></a><a href="#new-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New features</h5>
<ul>
<li>A new <code>lazyPlaceholderComponent</code> option is added which lets you show a placeholder for lazy loaded tabs.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="react-navigation-drawer"></a><a href="#react-navigation-drawer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>react-navigation-drawer</code></h4>
<p>To upgrade <code>react-navigation-drawer</code>, run:</p>
<pre><code class="hljs css language-sh">npm install react-navigation-drawer
</code></pre>
<p>This version upgrades now uses the <a href="https://github.com/software-mansion/react-native-reanimated"><code>react-native-reanimated</code></a> library for animations. This means, if you're using the <code>drawerProgress</code> value, you'll need to migrate your code to use <code>Animated</code> from <code>react-native-reanimated</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="react-navigation-stack"></a><a href="#react-navigation-stack" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>react-navigation-stack</code></h4>
<p>To upgrade <code>react-navigation-stack</code>, run:</p>
<pre><code class="hljs css language-sh">npm install react-navigation-stack
</code></pre>
<p>In this release, we have moved several options into <code>navigationOptions</code> so that you can configure options per screen instead of per navigator. This lets you do things like customize animations for a particular screen, set options based on <code>screenProps</code> etc. Usage of built-in components such as <code>Header</code> and <code>HeaderBackButton</code> has also been simplified. Other changes are made to improve consistency within the API.</p>
<p>From this version, all state changes have an animation, including <code>replace</code> and <code>reset</code> which didn't do an animation previously. If you don't want animations, you can specify <code>animationEnabled: false</code> in <code>navigationOptions</code> for a specific screen, or in <code>defaultNavigationOptions</code> for the whole navigator.</p>
<blockquote>
<p>Note: The alpha versions for 2.0 used Reanimated for the animations. We've replaced Reanimated with React Native's Animated API in the stable release. If you did any custom animations with the alpha, please migrate your code to the Animated API.</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="new-peer-dependencies"></a><a href="#new-peer-dependencies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New peer dependencies</h5>
<p>The new version requires 2 new peer dependencies. To install them in your project, run:</p>
<pre><code class="hljs css language-sh">npm install react-native-safe-area-context @react-native-community/masked-view
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="stack-navigator-config"></a><a href="#stack-navigator-config" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stack Navigator config</h5>
<p>The following configuration options have been removed or moved:</p>
<ul>
<li><code>cardShadowEnabled</code> - moved to <code>navigationOptions</code></li>
<li><code>cardOverlayEnabled</code> - moved to <code>navigationOptions</code></li>
<li><code>cardStyle</code> - moved to <code>navigationOptions</code></li>
<li><code>transparentCard</code> - removed in favor of <code>cardStyle: { backgroundColor: 'transparent' }</code> in <code>navigationOptions</code></li>
<li><code>headerBackTitleVisible</code> - moved to <code>navigationOptions</code></li>
<li><code>headerLayoutPreset</code> - moved to <code>navigationOptions</code> as <code>headerTitleAlign</code></li>
<li><code>onTransitionStart</code> - moved to <code>navigationOptions</code></li>
<li><code>onTransitionEnd</code> - moved to <code>navigationOptions</code></li>
<li><code>headerTransitionPreset</code> - removed in favor of <a href="https://reactnavigation.org/docs/en/stack-navigator.html#animations">new APIs for animations</a> in <code>navigationOptions</code></li>
<li><code>transitionConfig</code> - removed in favor of <a href="https://reactnavigation.org/docs/en/stack-navigator.html#animations">new APIs for animations</a> in <code>navigationOptions</code></li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="navigationoptions"></a><a href="#navigationoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>navigationOptions</code></h5>
<p>The following <code>navigationOptions</code> have been removed or changed:</p>
<ul>
<li><code>headerForceInset</code> - use <code>safeAreaInsets</code> instead to control the safe areas, or use <code>headerStatusBarHeight</code> to control the padding for the status bar.</li>
<li><code>gesturesEnabled</code> - renamed to <code>gestureEnabled</code> for consistency.</li>
<li><code>header</code> - now accepts a function returning react element instead, use <code>headerShown: false</code> instead of <code>header: null</code> to hide the header.</li>
<li><code>headerTitle</code> - now accepts a function returning a React element or a string.</li>
<li><code>headerLeft</code> - now accepts a function returning a React element.</li>
<li><code>headerRight</code> - now accepts a function returning a React element.</li>
<li><code>headerBackImage</code> - now accepts a function returning a React element.</li>
<li><code>headerBackTitle</code> - now specifies the back title visible in current screen instead of next, specifying <code>null</code> no longer hides back title, use <code>backTitleVisible</code> instead, for a screen to change next screen's back title, it can pass params.</li>
<li><code>headerBackground</code> - now accepts a function returning a React element.</li>
</ul>
<p>The following <code>navigationOptions</code> have been added:</p>
<ul>
<li><code>gestureEnabled</code></li>
<li><code>animationEnabled</code></li>
<li><code>headerTitleAlign</code></li>
<li><code>cardShadowEnabled</code></li>
<li><code>cardOverlayEnabled</code></li>
<li><code>cardStyle</code></li>
<li><code>headerBackgroundStyle</code></li>
<li><code>headerBackTitleVisible</code></li>
<li><code>swipeVelocityImpact</code></li>
<li><code>onTransitionStart</code></li>
<li><code>onTransitionEnd</code></li>
</ul>
<p>You can find more details about these options in the <a href="https://reactnavigation.org/docs/en/stack-navigator.html#navigationoptions-for-screens-inside-of-the-navigator">documentation</a>.</p>
<h5><a class="anchor" aria-hidden="true" id="library-exports"></a><a href="#library-exports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Library exports</h5>
<p>The library now exports the following items:</p>
<ul>
<li><code>createStackNavigator</code></li>
<li><code>StackView</code></li>
<li><code>Header（标题栏）</code></li>
<li><code>HeaderTitle</code></li>
<li><code>HeaderBackButton</code></li>
<li><code>HeaderBackground</code></li>
<li><code>CardStyleInterpolators</code></li>
<li><code>HeaderStyleInterpolators</code></li>
<li><code>TransitionSpecs</code></li>
<li><code>TransitionPresets</code></li>
<li><code>CardAnimationContext</code></li>
<li><code>GestureHandlerRefContext</code></li>
<li><code>HeaderHeightContext</code></li>
<li><code>useCardAnimation</code></li>
<li><code>useHeaderHeight</code></li>
<li><code>useGestureHandlerRef</code></li>
</ul>
<p>The following components now receive different set of props, so if you use them, or use your own custom component, you will need to update them:</p>
<h6><a class="anchor" aria-hidden="true" id="header-header-option"></a><a href="#header-header-option" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Header</code> (<code>header</code> option)</h6>
<ul>
<li><code>mode</code></li>
<li><code>layout</code></li>
<li><code>scene</code></li>
<li><code>previous</code></li>
<li><code>navigation</code></li>
<li><code>styleInterpolator</code></li>
</ul>
<h6><a class="anchor" aria-hidden="true" id="headerbackbutton-headerleft-option"></a><a href="#headerbackbutton-headerleft-option" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>HeaderBackButton</code> (<code>headerLeft</code> option)</h6>
<ul>
<li><code>disabled</code></li>
<li><code>onPress</code></li>
<li><code>pressColorAndroid</code></li>
<li><code>backImage</code></li>
<li><code>tintColor</code></li>
<li><code>label</code></li>
<li><code>truncatedLabel</code></li>
<li><code>labelVisible</code></li>
<li><code>labelStyle</code></li>
<li><code>allowFontScaling</code></li>
<li><code>onLabelLayout</code></li>
<li><code>screenLayout</code></li>
<li><code>titleLayout</code></li>
<li><code>canGoBack</code></li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="removal-of-transitioner"></a><a href="#removal-of-transitioner" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removal of <code>Transitioner</code></h5>
<p>The old <code>Transitioner</code> component has been removed as a result of rewrite of the animation logic. We're not going to expose the new animation logic since it's internal implementation detail and we want to be able to change it without breaking your code. If you need <code>Transitioner</code> in your project for some reason, you can copy the old files into your project <a href="https://github.com/react-navigation/stack/blob/1.0/src/views/Transitioner.tsx">https://github.com/react-navigation/stack/blob/1.0/src/views/Transitioner.tsx</a></p>
<h2><a class="anchor" aria-hidden="true" id="typescript"></a><a href="#typescript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TypeScript</h2>
<p>If you're using TypeScript, you'll also need to upgrade the navigators to the latest version following the previous section. Since the navigators have been extracted out, navigator specific types have been removed from the main package. You'll need to update the types accordingly:</p>
<ul>
<li>Replace <code>NavigationScreenProp</code> with:
<ul>
<li><code>NavigationSwitchProp</code> for <code>createSwitchNavigator</code> from <code>react-navigation</code></li>
<li><code>NavigationStackProp</code> for <code>createStackNavigator</code> from <code>react-navigation-stack</code></li>
<li><code>NavigationTabProp</code> for <code>createBottomTabNavigator</code> and <code>createMaterialTopTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationDrawerProp</code> for <code>createDrawerNavigator</code> from <code>react-navigation-drawer</code></li>
</ul></li>
<li>Replace <code>NavigationScreenProps</code> with:
<ul>
<li><code>NavigationSwitchScreenProps</code> for <code>createSwitchNavigator</code> from <code>react-navigation</code></li>
<li><code>NavigationStackScreenProps</code> for <code>createStackNavigator</code> from <code>react-navigation-stack</code></li>
<li><code>NavigationTabScreenProps</code> for <code>createBottomTabNavigator</code> and <code>createMaterialTopTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationDrawerScreenProps</code> for <code>createDrawerNavigator</code> from <code>react-navigation-drawer</code></li>
</ul></li>
<li>Replace <code>NavigationScreenOptions</code> with:
<ul>
<li><code>NavigationStackOptions</code> for <code>createStackNavigator</code> from <code>react-navigation-stack</code></li>
<li><code>NavigationBottomTabOptions</code> for <code>createBottomTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationMaterialTabOptions</code> for <code>createMaterialTopTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationDrawerOptions</code> for <code>createDrawerNavigator</code> from <code>react-navigation-drawer</code></li>
</ul></li>
<li>Replace <code>NavigationScreenComponent</code> with:
<ul>
<li><code>NavigationSwitchScreenComponent</code> for <code>createSwitchNavigator</code> from <code>react-navigation</code></li>
<li><code>NavigationStackScreenComponent</code> for <code>createStackNavigator</code> from <code>react-navigation-stack</code></li>
<li><code>NavigationBottomTabScreenComponent</code> for <code>createBottomTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationMaterialTabScreenComponent</code> for <code>createMaterialTopTabNavigator</code> from <code>react-navigation-tabs</code></li>
<li><code>NavigationDrawerScreenComponent</code> for <code>createDrawerNavigator</code> from <code>react-navigation-drawer</code></li>
</ul></li>
</ul>
<p>See the <a href="typescript.html">TypeScript guide</a> for more details.</p>
<p>TypeScript support is still a work in progress, so please open an issue if you're facing a problem.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-Hans/4.x/react-native-screens.html"><span class="arrow-prev">← </span><span>上一篇</span></a><a class="docs-next button" href="/docs/zh-Hans/4.x/navigation-prop.html"><span>下一篇</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#install-the-new-packages">Install the new packages</a></li><li><a href="#changing-your-code">Changing your code</a></li><li><a href="#upgrading-navigators-optional">Upgrading navigators (optional)</a><ul class="toc-headings"><li><a href="#installing-dependencies">Installing dependencies</a></li><li><a href="#upgrading-packages">Upgrading packages</a></li></ul></li><li><a href="#typescript">TypeScript</a></li></ul></nav></div><footer class="nav-footer" id="footer" style="padding-top:0"><div style="margin-bottom:2em;background-color:#fff;display:flex;flex:1;position:relative;padding-top:35px;padding-bottom:35px;max-height:412px;border-top-width:1px;border-top-color:#eee;border-top-style:solid"><div style="z-index:0;opacity:0.4;position:absolute;bottom:0;right:0;top:0;left:0;background-image:url(/img/expo_spiro.png);background-repeat:repeat;background-color:#fff;background-position-x:center"></div><p style="justify-content:center;flex:1;margin-bottom:0;z-index:1;text-align:center;padding-left:20px;padding-right:20px;color:#7b7b7b">React Navigation is built and funded by <a href="https://expo.io" style="font-weight:bold">Expo</a><span> &amp; </span><a href="https://swmansion.com/" style="font-weight:bold">Software Mansion</a>, with contributions from the <a style="font-weight:bold" href="https://github.com/react-navigation/react-navigation/graphs/contributors">community</a>.</p></div><section class="sitemap"><a href="/" class="nav-home"><img src="/img/spiro_white.svg" alt="React Navigation" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-Hans/getting-started.html">Getting Started</a><a href="/docs/zh-Hans/custom-navigator-overview.html">Building your own Navigator</a><a href="/docs/zh-Hans/contributing.html">Contributing</a></div><div><h5>Support</h5><a href="https://discord.gg/4xEK3nD">Chat in our Discord channel</a><a href="https://react-navigation.canny.io/feature-requests">Request a feature on Canny</a><a href="https://github.com/react-navigation/react-navigation/issues">Report a bug on Github</a><a href="https://stackoverflow.com/questions/tagged/react-navigation" target="_blank">Get help on Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/react-navigation/react-navigation">GitHub</a><a class="github-button" href="https://github.com/react-navigation/react-navigation" data-icon="octicon-star" data-count-href="/react-navigation/react-navigation/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c967b4a1491b9cb486d3dca087b771e6',
                indexName: 'reactnavigation',
                inputSelector: '#search_input_react'
              });
            </script></body></html>